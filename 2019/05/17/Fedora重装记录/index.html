<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Fedora重装记录 | 灯泉星</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-banner">
    <h1 id="title-wrap">
      <a href="/" id="title">灯泉星</a>
    </h1>
    <p id="slogan-wrap">
      <a href="/" id="slogan">Suffering is good for you.</a>
    </p>
  </div>
  <div id="header-social">
    <ul class="list-inline text-center">
      
      <li>
          <a target="_blank" href="https://www.zhihu.com/people/">
                          <span class="fa-stack fa-lg">
                                <i class="iconfont icon-zhihu"></i>
                          </span>
          </a>
      </li>
      
      
      
      <li>
          <a target="_blank" href="https://github.com/">
                          <span class="fa-stack fa-lg">
                              <i class="iconfont icon-github"></i>
                          </span>
          </a>
      </li>
      
    </ul>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Fedora重装记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/17/Fedora重装记录/" class="article-date">
  <time datetime="2019-05-17T06:51:22.000Z" itemprop="datePublished">2019-05-17</time>
</a>
  </div>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Fedora重装记录
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="基本安装"><a href="#基本安装" class="headerlink" title="基本安装"></a>基本安装</h2><h3 id="Fedora安装"><a href="#Fedora安装" class="headerlink" title="Fedora安装"></a>Fedora安装</h3><ol>
<li>准备一个容量足够大的U盘，备份好U盘数据后，格式化U盘</li>
<li>进入Fedora官网获取U盘制作工具Fedora Media Writer</li>
<li>安装Fedora Media Writer，并使用其制作LiveUSB</li>
<li>重启电脑进入BIOS，打开从USB启动，重启后选择进入U盘中的Fedora</li>
<li>选择安装到本地，进行安装即可</li>
</ol>
<h3 id="设置打开终端快捷键"><a href="#设置打开终端快捷键" class="headerlink" title="设置打开终端快捷键"></a>设置打开终端快捷键</h3><p>设置 =&gt; 设备 =&gt; Keyboard =&gt; + =&gt; {名称}自取，命令为<code>gnome-terminal</code>，{快捷键}自选</p>
<h3 id="更新系统并删除旧内核"><a href="#更新系统并删除旧内核" class="headerlink" title="更新系统并删除旧内核"></a>更新系统并删除旧内核</h3><ol>
<li>更新系统：<code>sudo dnf update</code></li>
<li>重启…</li>
<li>查看已安装的内核相关包：<code>rpm -qa | grep kernel</code></li>
<li>查看当前使用的内核：<code>uname -r</code></li>
<li>删除旧内核版本：<code>yum remove kernel-*-{要删除的版本}</code></li>
<li>生成启动菜单：<code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></li>
</ol>
<h2 id="常用软件安装"><a href="#常用软件安装" class="headerlink" title="常用软件安装"></a>常用软件安装</h2><h3 id="安装chrome浏览器"><a href="#安装chrome浏览器" class="headerlink" title="安装chrome浏览器"></a>安装chrome浏览器</h3><ol>
<li>安装chrome教程：<a href="https://www.if-not-true-then-false.com/2010/install-google-chrome-with-yum-on-fedora-red-hat-rhel/" target="_blank" rel="noopener">Install Google Chrome on Fedora 29/28</a></li>
<li><p>添加dnf配置：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install fedora-workstation-repositories</span><br><span class="line">sudo dnf config-manager --<span class="built_in">set</span>-enabled google-chrome</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装chrome：<code>dnf install google-chrome-stable</code></p>
</li>
<li><a href="https://ggfwzs.com/" target="_blank" rel="noopener">谷歌访问助手</a></li>
</ol>
<h3 id="安装VScode"><a href="#安装VScode" class="headerlink" title="安装VScode"></a>安装VScode</h3><p>以下步骤参考：<a href="https://code.visualstudio.com/docs/setup/linux#_rhel-fedora-and-centos-based-distributions" target="_blank" rel="noopener">官网教程</a></p>
<h4 id="配置repo"><a href="#配置repo" class="headerlink" title="配置repo"></a>配置repo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc</span><br><span class="line">sudo sh -c <span class="string">'echo -e "[code]\nname=Visual Studio Code\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" &gt; /etc/yum.repos.d/vscode.repo'</span></span><br></pre></td></tr></table></figure>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dnf check-update</span><br><span class="line">sudo dnf install code</span><br></pre></td></tr></table></figure>
<h4 id="常用插件"><a href="#常用插件" class="headerlink" title="常用插件"></a>常用插件</h4><table>
<thead>
<tr>
<th style="text-align:center"><strong>功能</strong></th>
<th style="text-align:center"><strong>插件名</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">python语言支持</td>
<td style="text-align:center">python</td>
</tr>
<tr>
<td style="text-align:center">中文语言包</td>
<td style="text-align:center">Chinese (Simplified) Language Pack for Visual Studio Code</td>
</tr>
<tr>
<td style="text-align:center">括号配对</td>
<td style="text-align:center">Bracket Pair Colorizer</td>
</tr>
<tr>
<td style="text-align:center">主题</td>
<td style="text-align:center">One Dark Pro</td>
</tr>
<tr>
<td style="text-align:center">python自动对齐</td>
<td style="text-align:center">Python-autopep8</td>
</tr>
<tr>
<td style="text-align:center">路径补全</td>
<td style="text-align:center">Path Intellisense</td>
</tr>
</tbody>
</table>
<h3 id="安装搜狗输入法"><a href="#安装搜狗输入法" class="headerlink" title="安装搜狗输入法"></a>安装搜狗输入法</h3><ol>
<li>配置repo：<code>sudo dnf config-manager --add-repo=http://repo.fdzh.org/FZUG/FZUG.repo</code></li>
<li>由于Fedora版本为29，fdzh还没有提供对应repo，可以<strong>尝试</strong>修改<code>FZUG.repo</code>：替换<code>$realese</code>为<code>26</code>或<code>27</code></li>
<li>安装fctix：<code>dnf -y install fcitx</code></li>
<li>安装搜狗拼音：<code>dnf -y install sogoupinyin</code></li>
<li><p>配置fcitx，在<code>/etc/profile</code>中添加如下配置：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#add for sogou input</span></span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT4_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIER=@im=fcitx</span><br></pre></td></tr></table></figure>
</li>
<li><p>在gnome-tweak中将fcitx配置为开机自启动项</p>
</li>
<li>重启电脑</li>
</ol>
<h3 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h3><ol>
<li>安装virtualenvwrapper：<code>pip3 install --user virtualenvwrapper</code></li>
<li><p>设置virtualenvwrapper的运行环境变量，编辑<code>~/.bashrc</code>或<code>~/.zshrc</code>，加入以下几行：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3</span><br><span class="line"><span class="built_in">export</span> WORKON_HOME=<span class="string">'~/.virtualenvs'</span></span><br><span class="line"><span class="built_in">source</span> /usr/<span class="built_in">local</span>/bin/virtualenvwrapper.sh <span class="comment"># 路径视情况而定</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装virutalenv：<code>sudo dnf install virtualenv</code></p>
</li>
<li>创建虚拟环境：<code>mkvirtualenv [名称]</code></li>
<li>切换虚拟环境：<code>workon [名称]</code></li>
<li>离开虚拟环境：<code>deactivate</code></li>
<li>删除虚拟环境：<code>rmvirtualenv [名称]</code></li>
<li>常用包：<code>tensorflow</code>、<code>scikit-learn</code>、<code>matplotlib</code>、<code>autopep8</code>、<code>flake8</code>、<code>keras</code></li>
</ol>
<h3 id="其他软件"><a href="#其他软件" class="headerlink" title="其他软件"></a>其他软件</h3><ol>
<li><strong>坚果云</strong>：挺好用的网盘(网络<strong>共享文件夹</strong>)软件，安装见<a href="[https://link](https://www.jianguoyun.com/s/downloads/linux">官网</a>)</li>
<li><strong>vivaldi浏览器</strong>：<strong>界面</strong>要比chrome要好看，<strong>自由度</strong>较高，但是<strong>flash安装</strong>起来有点<strong>难受</strong>，<a href="https://vivaldi.com/" target="_blank" rel="noopener">vivaldi官网</a>提供rpm包</li>
<li><strong>网易云音乐</strong>：可以直接将官网的deb包解压后手动安装，教程参考<a href="https://www.wenjinyu.me/zh/installing-netease-music-player-in-fedora-29/" target="_blank" rel="noopener">wenjinyu的博客</a></li>
</ol>
<h2 id="Fedora美化"><a href="#Fedora美化" class="headerlink" title="Fedora美化"></a>Fedora美化</h2><h3 id="gnome主题"><a href="#gnome主题" class="headerlink" title="gnome主题"></a>gnome主题</h3><ol>
<li>安装优化工具<code>gnome-tweak-tool</code>：<code>sudo dnf install gnome-tweak-tool</code></li>
<li><a href="https://www.gnome-look.org/" target="_blank" rel="noopener">主题、图标获取地址</a></li>
<li>主题文件解压到<code>/usr/share/themes</code>，图标文件解压到<code>/usr/share/icons</code></li>
<li>OSX样式dock，软件商店搜索<code>dash-to-dock</code>下载即可</li>
</ol>
<h3 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="Oh My Zsh"></a>Oh My Zsh</h3><ol>
<li>以下步骤参考<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Installing-ZSH" target="_blank" rel="noopener">zsh安装</a></li>
<li><p>安装zsh，并修改为默认命令行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install zsh</span><br><span class="line">chsh -s $(<span class="built_in">which</span> zsh)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>重启命令行</strong>或<strong>注销</strong>或<strong>重启系统</strong>，打开命令行，根据提示输入<code>0</code></p>
</li>
<li>安装Oh My Zsh：<code>sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</code></li>
</ol>
<h4 id="agnoster主题"><a href="#agnoster主题" class="headerlink" title="agnoster主题"></a>agnoster主题</h4><ol>
<li><code>vi ~/.zshrc</code>，修改<code>ZSH_THEME=&quot;agnoster&quot;</code></li>
<li>安装powerline及字体：<code>sudo dnf install powerline powerline-fonts</code></li>
<li><p><strong>(可选)</strong> 用户名机器名前缀太长：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/themes</span><br><span class="line">vi agnoster.zsh-theme</span><br><span class="line"></span><br><span class="line">prompt_segment black default <span class="string">"%(!.%&#123;%F&#123;yellow&#125;%&#125;.)%n@%m"</span></span><br><span class="line">=&gt; prompt_segment black default <span class="string">"%(!.%&#123;%F&#123;yellow&#125;%&#125;.)%n"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>(可选)</strong> 修改文件路径前缀过长：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/themes</span><br><span class="line">vi agnoster.zsh-theme</span><br><span class="line"></span><br><span class="line">prompt_segment blue <span class="variable">$CURRENT_FG</span> <span class="string">'%~'</span></span><br><span class="line">=&gt; prompt_segment blue <span class="variable">$CURRENT_FG</span> <span class="string">'%c'</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="powerlevel9k主题"><a href="#powerlevel9k主题" class="headerlink" title="powerlevel9k主题"></a>powerlevel9k主题</h4><p>以下步骤参考<a href="https://dreamcats.github.io/2019/05/24/mac%E7%BB%88%E7%AB%AF-iterm2-zsh-oh-my-zsh/" target="_blank" rel="noopener">dreamcats</a>的博客</p>
<ol>
<li><p>获取主题：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>vi ~/.zshrc</code>，修改<code>ZSH_THEME=&quot;powerlevel9k/powerlevel9k&quot;</code></p>
</li>
<li><p><strong>(可选)</strong> 主题配置</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ==== Theme Settings ====</span></span><br><span class="line"><span class="comment"># PowerLevel9k</span></span><br><span class="line"><span class="comment"># 终端配色</span></span><br><span class="line"><span class="built_in">export</span> TERM=<span class="string">"xterm-256color"</span></span><br><span class="line"><span class="comment"># user name 注意之前的DEFALUT_USER 注释</span></span><br><span class="line">POWERLEVEL9K_CONTEXT_TEMPLATE=<span class="string">"&#123;YOUR_USERNAME&#125;"</span></span><br><span class="line"><span class="comment"># 设置 oh-my-zsh powerlevel9k 主题左边元素显示</span></span><br><span class="line">POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(context dir rbenv vcs)</span><br><span class="line"><span class="comment"># 设置 oh-my-zsh powerlevel9k 主题右边元素显示</span></span><br><span class="line">POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(virtualenv status root_indicator background_jobs time)</span><br><span class="line"><span class="comment">#新起一行显示命令 (推荐！极其方便）</span></span><br><span class="line">POWERLEVEL9K_PROMPT_ON_NEWLINE=<span class="literal">true</span></span><br><span class="line"><span class="comment">#右侧状态栏与命令在同一行</span></span><br><span class="line">POWERLEVEL9K_RPROMPT_ON_NEWLINE=<span class="literal">true</span></span><br><span class="line"><span class="comment">#缩短目录层级</span></span><br><span class="line">POWERLEVEL9K_SHORTEN_DIR_LENGTH=1</span><br><span class="line"><span class="comment">#缩短目录策略：隐藏上层目录中间的字</span></span><br><span class="line"><span class="comment">#POWERLEVEL9K_SHORTEN_STRATEGY="truncate_middle"</span></span><br><span class="line"><span class="comment">#添加连接上下连接箭头更方便查看</span></span><br><span class="line">POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=<span class="string">"↱"</span></span><br><span class="line">POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX=<span class="string">"↳ "</span></span><br><span class="line"><span class="comment"># 新的命令与上面的命令隔开一行</span></span><br><span class="line"><span class="comment">#POWERLEVEL9K_PROMPT_ADD_NEWLINE=true</span></span><br><span class="line"><span class="comment"># Git仓库状态的色彩指定</span></span><br><span class="line">POWERLEVEL9K_VCS_CLEAN_FOREGROUND=<span class="string">'blue'</span></span><br><span class="line">POWERLEVEL9K_VCS_CLEAN_BACKGROUND=<span class="string">'black'</span></span><br><span class="line">POWERLEVEL9K_VCS_UNTRACKED_FOREGROUND=<span class="string">'yellow'</span></span><br><span class="line">POWERLEVEL9K_VCS_UNTRACKED_BACKGROUND=<span class="string">'black'</span></span><br><span class="line">POWERLEVEL9K_VCS_MODIFIED_FOREGROUND=<span class="string">'red'</span></span><br><span class="line">POWERLEVEL9K_VCS_MODIFIED_BACKGROUND=<span class="string">'black'</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="常用插件列表"><a href="#常用插件列表" class="headerlink" title="常用插件列表"></a>常用插件列表</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(git extract z zsh-syntax-highlighting zsh-autosuggestions colorize)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># zsh-syntax-highlighting</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="comment"># zsh-autosuggestions</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
    </footer>
  </div>
</article>

</section>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Quanxin Deng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
  </div>
</body>
</html>